!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=r.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){n[e]=r},r.parcelRequired7c6=o);var a=o("bpxeT"),i=o("2TvXO"),u=o("6JpON"),s=o("5IjG7"),c=o("ag7wj"),f=o("h3pWP"),l=o("gGuPt"),d=document.querySelector("#search-form"),p=document.querySelector(".gallery"),h=new(0,l.default)({selector:".submit-btn",hidden:!1}),v=new(0,f.default);function y(){return(y=e(a)(e(i).mark((function r(t){var n,o,a,u;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),N(),n=document.querySelector(".endPage"),g.unobserve(n),v.word=t.currentTarget.elements.searchQuery.value.trim(),!k(v.word)){e.next=7;break}return e.abrupt("return");case 7:return v.resetPage(),v.resetViewedPhotoes(),h.disabled(),e.prev=10,e.next=13,v.fetchArticles();case 13:if(o=e.sent,a=o.hits,u=o.totalHits,!P(a.length)){e.next=18;break}return e.abrupt("return");case 18:m(u),x(a),h.enable(),g.observe(n),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(10),q(e.t0);case 27:case"end":return e.stop()}}),r,null,[[10,24]])})))).apply(this,arguments)}d.addEventListener("submit",(function(e){return y.apply(this,arguments)}));var b,w=(b=e(a)(e(i).mark((function r(t){return e(i).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.forEach(function(){var r=e(a)(e(i).mark((function r(t){return e(i).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!(v.totalHits<=v.viewedPhotoes)){r.next=4;break}return e(u).Notify.info("We're sorry, but you've reached the end of search results."),r.abrupt("return");case 4:if(!(t.isIntersecting&&v.totalHits>v.viewedPhotoe&&""!==v.word)){r.next=10;break}return r.next=7,v.fetchArticles();case 7:x(r.sent.hits),n=void 0,o=void 0,a=void 0,o=document.querySelector(".".concat(n)).firstElementChild.getBoundingClientRect(),a=o.height,window.scrollBy({top:2*a,behavior:"smooth"});case 10:r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),q(r.t0);case 15:case"end":return r.stop()}var n,o,a}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}());case 1:case"end":return r.stop()}}),r)}))),function(e){return b.apply(this,arguments)}),g=new IntersectionObserver(w,{rootMargin:"200px"});function m(r){e(u).Notify.success("Hooray! We found ".concat(r," images."))}function x(r){var t=r.map(c.default).join("");p.insertAdjacentHTML("beforeend",t),new(e(s))(".gallery a").refresh()}function k(r){if(""===r)return e(u).Notify.warning("Please, enter a search query!"),!0}function P(r){if(0===r)return h.enable(),e(u).Notify.failure("Sorry, there are no images matching your search query. Please try again."),!0}function q(r){e(u).Notify.info("We're sorry, try ones more."),h.enable(),console.log(r)}function N(){p.innerHTML=""}}();
//# sourceMappingURL=gallery3.cf39cc25.js.map
